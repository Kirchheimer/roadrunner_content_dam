<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project B - React UI Component Library</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .project-header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        .project-meta {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .meta-item {
            background: rgba(255,255,255,0.1);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        .section-card {
            background: white;
            padding: 30px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        .tag {
            background: #e0e7ff;
            color: #4338ca;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
        }
        .maintainer {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        .maintainer i {
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="project-header">
        <div class="container">
            <h1><i class="fas fa-cubes"></i> <span id="project-title">Project B</span></h1>
            <p id="project-description">Loading project information...</p>
            <div class="project-meta">
                <div class="meta-item">
                    <i class="fas fa-code-branch"></i>
                    Version <span id="project-version">-</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-check-circle"></i>
                    Status: <span id="project-status">-</span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-calendar"></i>
                    Updated: <span id="project-updated">-</span>
                </div>
            </div>
        </div>
    </div>

    <main class="container">
        <section class="project-links" style="margin: 40px 0; text-align: center;">
            <a id="repo-link" href="#" style="display: inline-block; background: #4f46e5; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; margin: 0 10px;">
                <i class="fab fa-github"></i> Repository
            </a>
            <a id="docs-link" href="#" style="display: inline-block; background: #059669; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; margin: 0 10px;">
                <i class="fas fa-book"></i> Documentation
            </a>
            <a href="content.json" style="display: inline-block; background: #6b7280; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none; margin: 0 10px;">
                <i class="fas fa-file-code"></i> JSON Data
            </a>
        </section>

        <div id="project-content">
            <div class="loading" style="text-align: center; padding: 60px;">
                <i class="fas fa-spinner fa-spin"></i>
                Loading project content...
            </div>
        </div>

        <section style="margin-top: 40px;">
            <h2><i class="fas fa-rss"></i> Project Feeds</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                <div class="section-card">
                    <h3><i class="fas fa-newspaper"></i> News</h3>
                    <p>Latest announcements, releases, and major updates</p>
                    <a href="feeds/news.json" style="color: #4f46e5; text-decoration: none;">
                        <i class="fas fa-arrow-right"></i> View News Feed
                    </a>
                </div>
                <div class="section-card">
                    <h3><i class="fas fa-sync-alt"></i> Updates</h3>
                    <p>Detailed changelog and development updates</p>
                    <a href="feeds/updates.json" style="color: #4f46e5; text-decoration: none;">
                        <i class="fas fa-arrow-right"></i> View Updates Feed
                    </a>
                </div>
            </div>
        </section>

        <section style="margin-top: 40px;">
            <h2><i class="fas fa-code"></i> Integration Examples</h2>
            <div class="section-card">
                <h3>Fetch Project Content</h3>
                <pre style="background: #1f2937; color: #e5e7eb; padding: 20px; border-radius: 8px; overflow-x: auto;"><code>// Fetch complete project data
fetch('./content.json')
  .then(res => res.json())
  .then(project => {
    console.log(project.title);
    console.log(project.description);
    project.sections.forEach(section => {
      console.log(section.heading, section.body);
    });
  });

// Fetch latest news
fetch('./feeds/news.json')
  .then(res => res.json())
  .then(news => {
    const latest = news[0];
    console.log(latest.title, latest.summary);
  });</code></pre>
            </div>
        </section>
    </main>

    <footer style="background: #1f2937; color: #e5e7eb; padding: 30px 0; margin-top: 60px; text-align: center;">
        <div class="container">
            <p>
                <a href="../../index.html" style="color: #60a5fa; text-decoration: none;">
                    <i class="fas fa-home"></i> Back to Repository
                </a>
            </p>
        </div>
    </footer>

    <script>
        // Load project content dynamically
        document.addEventListener('DOMContentLoaded', function() {
            loadProjectContent();
        });

        async function loadProjectContent() {
            try {
                const response = await fetch('./content.json');
                const project = await response.json();
                
                // Update header information
                document.getElementById('project-title').textContent = project.title;
                document.getElementById('project-description').textContent = project.description;
                document.getElementById('project-version').textContent = project.version || 'N/A';
                document.getElementById('project-status').textContent = project.status || 'Unknown';
                document.getElementById('project-updated').textContent = project.updated || 'N/A';
                
                // Update links
                if (project.repository) {
                    document.getElementById('repo-link').href = project.repository;
                }
                if (project.documentation) {
                    document.getElementById('docs-link').href = project.documentation;
                }
                
                // Render content sections
                renderProjectSections(project.sections || []);
                
                // Show tags
                renderTags(project.tags || []);
                
                // Show maintainers
                renderMaintainers(project.maintainers || []);
                
            } catch (error) {
                console.error('Error loading project content:', error);
                document.getElementById('project-content').innerHTML = `
                    <div class="error" style="text-align: center; padding: 40px; color: #dc2626;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <p>Error loading project content. Please check the content.json file.</p>
                    </div>
                `;
            }
        }

        function renderProjectSections(sections) {
            const contentDiv = document.getElementById('project-content');
            
            if (sections.length === 0) {
                contentDiv.innerHTML = '<p style="text-align: center; color: #6b7280;">No content sections available.</p>';
                return;
            }
            
            const sectionsHtml = sections.map(section => `
                <div class="section-card">
                    <h2><i class="fas fa-info-circle"></i> ${escapeHtml(section.heading)}</h2>
                    <div style="white-space: pre-line; line-height: 1.7;">${escapeHtml(section.body)}</div>
                </div>
            `).join('');
            
            contentDiv.innerHTML = sectionsHtml;
        }

        function renderTags(tags) {
            if (tags.length === 0) return;
            
            const tagsHtml = `
                <section style="margin: 30px 0;">
                    <h3><i class="fas fa-tags"></i> Tags</h3>
                    <div class="tags">
                        ${tags.map(tag => `<span class="tag">${escapeHtml(tag)}</span>`).join('')}
                    </div>
                </section>
            `;
            
            document.getElementById('project-content').insertAdjacentHTML('beforeend', tagsHtml);
        }

        function renderMaintainers(maintainers) {
            if (maintainers.length === 0) return;
            
            const maintainersHtml = `
                <section style="margin: 30px 0;">
                    <h3><i class="fas fa-users"></i> Maintainers</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        ${maintainers.map(maintainer => `
                            <div class="maintainer">
                                <i class="fas fa-user"></i>
                                <div>
                                    <strong>${escapeHtml(maintainer.name)}</strong>
                                    <div style="font-size: 0.9rem; color: #6b7280;">
                                        ${maintainer.email ? `<i class="fas fa-envelope"></i> ${escapeHtml(maintainer.email)}` : ''}
                                        ${maintainer.github ? `<br><i class="fab fa-github"></i> @${escapeHtml(maintainer.github)}` : ''}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </section>
            `;
            
            document.getElementById('project-content').insertAdjacentHTML('beforeend', maintainersHtml);
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>
